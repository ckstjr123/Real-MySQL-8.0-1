## 4.1 MySQL 엔진 아키텍처
> MySQL 엔진과 **InnoDB** 스토리지 엔진으로 구성
- MySQL 엔진: 커넥션 핸들러, SQL 파서, 전처리기, 옵티마이저, 쿼리 실행기
- 스토리지 엔진: 데이터를 디스크에 실제로 쓰거나 디스크로부터 데이터 읽어오기

## 4.1.6.1 쿼리 파서
> 사용자 요청으로 들어온 쿼리 문장을 토큰으로 분리해 트리 형태의 구조로 만들어 내는 작업 수행, 기본 문법 오류 발견
  
## 4.1.6.2 전처리기
> 파서 과정에서 만들어진 파서 트리를 기반으로 쿼리 구조 검토

## 4.1.6.3 옵티마이저
> 쿼리를 어떻게 저렴한 비용으로 가장 빠르게 처리할지 결정하는 역할

---

## 4.2.2 외래 키 지원
- 변경 시 반드시 부모 테이블이나 자식 테이블에 데이터가 있는지 체크하는 작업이 필요하므로 잠금이 여러 테이블로 전파되고, 이로 인해 데드락이 발생할 때가 많으므로 주의
- SET SESSION foregin_key_checks=OFF; 현재 세션에서 외래 키 체크 작업을 일시적으로 비활성화 가능

## 4.2.3 MVCC(Multi Version Concurrency Control)
- 하나의 레코드에 대해 여러 개의 버전을 동시에 관리
- MVCC 기술을 이용해 잠금 없는 일관된 읽기 수행(특정 사용자가 레코드를 변경하고 아직 커밋하지 않았다 하더라도 해당 변경 트랜잭션이 다른 사용자의 SELECT 작업을 방해하진 않음)
- 변경되기 전의 데이터를 읽기 위해 언두 로그(Undo log) 사용

## 4.2.7 InnoDB 버퍼 풀
> 디스크의 데이터 파일/인덱스 정보를 메모리에 캐시해두는 공간, 쓰기 작업을 지연시켜 일괄 처리하도록 해주는 버퍼 역할도 함

## 4.2.9 언두 로그
> 트랜잭션과 격리 수준을 보장하기 위해 별도로 백업된 변경되기 이전 버전의 데이터
- 트랜잭션 보장: 트랜잭션 롤백 시 언두 로그에 백업해 둔 이전 버전 데이터를 이용해 복구
- 격리 수준 보장: 특정 커넥션에서 데이터를 변경하는 도중 다른 커넥션에서 데이터를 조회하면, 트랜잭션 격리 수준에 맞게 변경 중인 레코드를 읽지 않고 언두 로그 데이터를 읽어서 반환
